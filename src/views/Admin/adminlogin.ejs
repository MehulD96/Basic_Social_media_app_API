<!DOCTYPE html>
<html>
<head>
    <title>Admin Login Form</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <h2>Admin Login Page</h2><br>
    <div class="login">
    <form >
        <label><b>PHONE
        </b>
        </label>
        <br>
        <input type="text" name="phone" id="Phone" placeholder=" phone">
        <div class ="email error"></div>
        <br>

        <div style="text-align: center;">
        <label >or</label>
        </div>

        <label><b>Email
        </b>
        </label>
        <br>
        <input type="text" name="Email" id="Email" placeholder="Email">
        <!--<div class ="email error"></div>-->
        <br><br>

        <label><b>Password
        </b>
        </label>
        <br>
        <input type="Password" name="Pass" id="Pass" placeholder="Password">
        <!--<div class="password error"></div>-->
        <br><br>
        <button name="log" id="log" >Login</button>
        <br><br>
        

    </form>
</div>

</body>

<script>
    const form = document.querySelector('form');
    /*const emailError = document.querySelector('.email.error');
    const passwordError = document.querySelector('.password.error');*/

    form.addEventListener('submit',async (e)=>{
        e.preventDefault()


        const phone = form.phone.value
        const email = form.Email.value
        const password = form.Pass.value

        try{
            const res = await fetch("/adminlogin", {
                method:'POST', 
                body:JSON.stringify({phone, email, password}),
                headers: {"Accept": "application/json , text/plain ,*/*",
            "Content-type": "application/json"},
                redirect:'follow'
            }) .then(result => result.json())
            .then(response => {
    
            if(response.status == 200){
                
                window.location.href = '/admindashboard'
            }
            else{
                alert(response.message)
            }
        })


        }catch(err){
            console.log(err)
        }
    })
</script>

</html>